## 데이터로 작업하기
### 스트레오타입 애노테이션이란?

스프링 MVC 에서는 클래스의 역할을 구분하는 것이 중요함

스프링에서 주로 사용하는 역할 그룹을 나타내는 애노테이션이다.

- @Component는 스프링이 자동으로 탐색하여 생성하는 빈으로, 클래스를 빈으로 지정하는 클래스 수준의 어노테이션
- @Repository는 @Component가 특화된, 데이터 액세스 관련 애토네이션이다.
- @Controller 역시 @Component가 특화된, 해당 클래스를 스프링 웹 MVC 컨트롤러로 지정하는 애노테이션이다.

### **SimpleJdbcInsert**

SimpleJdbcInsert는 데이터를 DB에 더 쉽게 추가하기 위해 **JdbcTemplate을 래핑한 객체다**.

- SimpleJdbcInsert는 데이터를 추가하는 두 개의 유용한 메서드인 **execute()와 excuteAndReturnKey()**를 갖고 있다.
    - 두 메서드는 모두 Map<String, Object>를 인자로 받는다.
    - 이 Map의 키는 데이터가 추가되는 **테이블의 열 이름**과 대응되며 Map의 값은 **열에 추가되는 값**이다.

Order 객체의 속성 값들을 Map의 항목으로 복사하는 것은 쉽다.

- 하지만 Order 객체는 여러 개의 속성을 가지며 속성 모두가 테이블의 열과 같은 이름을 갖는다.
- 따라서 ObjectMapper의 convertValue() 를 사용해서 Order를 Map으로 변환해서 사용하기도 함

### **@SessionAttributes 사용 이유**

@SessionAttributes("order")를 사용하는 이유는 **Order 인스턴스를 세션에** 담아두기 위함

하나의 세션에서 생성되는 Taco 객체와 다르게 주문은 다수의 HTTP 요청에 걸쳐 존재해야 한다. 

다수의 타코를 생성하고 그것들을 하나의 주문으로 추가할 수 있게 하기 위해서다.

 그러면 세션에서 계속 보존되면서 다수의 요청에 걸쳐 사용될 수 있다.

주문 객체가 데이터베이스에 저장된 후에는 더 이상 세션에 보존할 필요가 없다. 그러나 만일 제거하지 않으면 이전 주문 및 이것과 연관된 타코가 세션에 남아 있게 되어 다음 주문은 이전 주문에 포함되었던 타코 객체들을 가지고 시작하게 될 것이다.
